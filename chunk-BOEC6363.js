import{l as I}from"./chunk-UMQYXBLG.js";import{j as x}from"./chunk-UHYOK435.js";import"./chunk-XJGANDDK.js";import"./chunk-TJHDH3WY.js";import{Da as m,Ea as s,Ec as o,Fa as h,Fc as b,Hb as d,Mb as p,Pc as E,Qb as _,Rb as v,Vb as C,Zb as r,fb as f,ja as c,qc as u,tb as g,yb as l}from"./chunk-2K2JK6TO.js";var T=(t,i,e)=>({data:t,columnConfig:i,handleValueChanged:e});function w(t,i){t&1&&C(0)}function V(t,i){if(t&1&&(_(0,"div",0),l(1,w,1,0,"ng-container",1),v()),t&2){let e=r(2);f(),d("ngComponentOutlet",e.cell().cellEditor)("ngComponentOutletInputs",u(2,T,e.rowValue(),e.cell(),e.handleValueChanged))}}function O(t,i){t&1&&C(0)}function y(t,i){if(t&1&&l(0,O,1,0,"ng-container",1),t&2){let e=r(2);d("ngComponentOutlet",e.cellTemplate())("ngComponentOutletInputs",u(2,T,e.rowValue(),e.cell(),e.handleValueChanged))}}function L(t,i){if(t&1&&l(0,V,2,6,"div",0)(1,y,1,6,"ng-container"),t&2){let e=r();p(e.isEditing()?0:1)}}var K=(()=>{class t{constructor(){this.tableService=c(x),this.elRef=c(h),this.cell=s.required(),this.rowValue=s.required(),this.rowIndex=s.required(),this.valueChanged=m(),this.previousClasses=[],this.cellTemplate=o(()=>this.cell().cellRenderer??I),this.canEdit=o(()=>this.cell().cellEditor&&!this.tableService.disableEditing()&&!this.cell().cellEditorOptions?.disabled?.(this.rowValue())),this.isEditing=o(()=>{let e=this.cell(),n=e.key+"_"+this.rowIndex();return this.tableService.inlineEditingCellKey()===n&&e.cellEditor&&!e.cellEditorOptions?.disabled?.(this.rowValue())}),this.cellClasses=o(()=>(this.getCellClasses(this.cell(),this.rowValue())?.trim().split(" ")??[]).filter(e=>!!e?.length)),this.handleValueChanged=(e,n,a)=>{n?.cellEditorOptions?.valueChanged&&n.cellEditorOptions.valueChanged({value:e,cell:n,row:a}),this.valueChanged.emit({value:e,cell:n,row:a})},b(()=>{let e=this.elRef?.nativeElement?.parentElement;e&&(this.isEditing()?e.classList.add("edit-mode"):e.classList.remove("edit-mode"),this.canEdit()?e.classList.add("editable"):e.classList.remove("editable"),e.tabIndex=this.canEdit()?0:-1,this.cellClasses()&&(e.classList.remove(...this.previousClasses),e.classList.add(...this.cellClasses()),this.previousClasses=this.cellClasses()))})}getCellClasses(e,n){return typeof e.cellClass=="function"?e.cellClass(n,e):e.cellClass}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=g({type:t,selectors:[["lab900-table-cell-inner"]],inputs:{cell:[1,"cell"],rowValue:[1,"rowValue"],rowIndex:[1,"rowIndex"]},outputs:{valueChanged:"valueChanged"},decls:1,vars:1,consts:[[1,"lab900-cell-editor-wrapper"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(n,a){n&1&&l(0,L,2,1),n&2&&p(a.cell()?0:-1)},dependencies:[E],encapsulation:2,changeDetection:0})}}return t})();export{K as TableCellInnerComponent};
