<mat-menu #actionMenu>
  @for (action of actions; track action.label) {
    @if (!action.subActions) {
      <button
        mat-menu-item
        (click)="doAction($event, action)"
        [disabled]="getDisabled(action) | async"
      >
        @if (action.prefixIcon) {
          <mat-icon>{{ getPrefixIcon(action) }}</mat-icon>
        }
        <span>{{ getLabel(action) | translate }}</span>
        @if (action.suffixIcon) {
          <mat-icon>{{ getSuffixIcon(action) }}</mat-icon>
        }
      </button>
    } @else if (!action?.hide) {
      <button
        mat-menu-item
        [matMenuTriggerFor]="innerMenu.actionMenu"
        [disabled]="getDisabled(action) | async"
      >
        @if (action.prefixIcon) {
          <mat-icon>{{ getPrefixIcon(action) }}</mat-icon>
        }
        <span>{{ getLabel(action) | translate }}</span>
        @if (action.suffixIcon) {
          <mat-icon>{{ getSuffixIcon(action) }}</mat-icon>
        }
      </button>
      <lab900-action-button-menu #innerMenu [actions]="action.subActions" />
    }
  }
</mat-menu>
